# ===========================================
# AmaraCare OpenMed Service — Environment Variables
# ===========================================

# Server port (Railway sets this automatically)
PORT=8000

# API key for authenticating requests from Amara
# Generate a secure random string and set the same value in Amara's .env.local
OPENMED_API_KEY=your-secret-api-key

# Device for inference: "cpu" or "cuda"
OPENMED_DEVICE=cpu

# Models to eagerly preload at startup (comma-separated).
# Other DEFAULT_MODELS are lazy-loaded on first request.
# Default: pii_bioclinical (critical for PHI de-identification on every chat turn)
OPENMED_PRELOAD_MODELS=pii_bioclinical

# Maximum RSS memory (MB) before LRU eviction triggers.
# Pinned models (pii_bioclinical) are never evicted.
# Set based on your Railway plan's memory limit.
OPENMED_MAX_MEMORY_MB=2048

# (Deprecated) Old env var — use OPENMED_PRELOAD_MODELS instead
# OPENMED_MODELS=

# Directory for caching downloaded HuggingFace models
OPENMED_CACHE_DIR=/app/.cache
